"use strict";angular.module("customValidationApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMessages"]).directive("formElementValidation",["$compile","$timeout","$interpolate","popoverService",function(a,b,c,d){return{template:'<div form-popover type="redPopover" trigger="manual"><div class="_popoverControl redPopover"><ng-transclude></ng-transclude></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,controller:function(){},require:["^formValidation","^form"],link:function(a,e,f,g){var h=g[0],i=g[1],j=e.find("[ng-model]"),k=e.find("div._popoverControl"),l=a.$eval(i.$name)||a.$parent.$eval(i.$name)||a.$parent.$parent.$eval(i.$name),m=c(e.find("[name]").first().attr("name")||"")(a),n=function(a,b){var c=a.find(":input");"radio"===$(c).attr("type")?$(c).parent("label").toggleClass("error-border",b):c.toggleClass("error-border",b)},o=function(){var a=e.find(":input");return $(a[0]).hasClass("hasDatepicker")&&$.datepicker._lastInput===a[0]?k.find(document.activeElement).length>0||$.datepicker._datepickerShowing:k.find(document.activeElement).length>0},p=function(){var a=$.datepicker.dpDiv[0].offsetTop,b=e.offset().top;return a-b>0?"top":"bottom"},q=function(){var b=p();d.destroyPopover(e),d.initPopover(a,e,f,{placement:b})};j.each(function(){var b=$(this).attr("ng-model");a.$$childHead.$watch(b,function(c){c&&(a.$parent[b]=c)})}),a.$watch(function(){return angular.isUndefined(l)||angular.isUndefined(l[m])?void 0:angular.toJson(l[m].$error)},function(a){angular.isUndefined(a)||"{}"===a?(n(k,!1),b(function(){k.popover("hide")},0)):(l[m].isVisited||h.isFormSubmit)&&(n(k,!0),o()&&b(function(){k.popover("show")},0))}),k.bind("focusout",function(){b(function(){o()||(l[m]&&(l[m].isVisited=!0,n(k,l[m].$invalid)),k.popover("hide"))},10)}).bind("focusin",function(){b(function(){l[m].$invalid&&(l[m].isVisited||h.isFormSubmit)&&($.datepicker._datepickerShowing&&q(),k.popover("show"))},20)}),f.isEager&&(l[m].isVisited=!0)}}}]).directive("formPopover",["popoverService",function(a){return{link:function(b,c,d){d.$observe("trigger",function(){a.destroyPopover(c),a.initPopover(b,c,d)})}}}]).directive("formValidation",["$rootScope",function(a){return{require:["formValidation"],controller:function(){this.isFormSubmit=!1},link:function(b,c,d,e){var f=e[0],g=function(e){f.isFormSubmit=!0;var g=c.find("div._popoverControl"),h=!0,i=!1;if($(g).each(function(){var b=$(this).find(".ng-invalid");if(b.length>0&&(i=!0,$(this).find(":input").addClass("error-border"),h)){var c=b.first().attr("hc-multi-select");"undefined"!=typeof c&&c!==!1?b.first().next().find("button").focus():$(this).find(":focusable").first().focus(),a.$broadcast("onSubmitForTab",b),h=!1}}),"undefined"!=typeof e){if(i){var j=d.hcFormSubmit;return j&&(b[j]=!1),!1}return!0}};b.$on("onSubmit",function(){g()}),c.submit(function(a){return g(a)?!0:!1})}}}]).service("popoverService",function(){this.initPopover=function(a,b,c,d){var e=b.find("._popoverControl"),f=b.find("._popoverContent"),g=c.type||"",h={html:!0,content:function(){return f.html()},placement:c.placement||"bottom",trigger:c.trigger||"focus",animation:!1,container:"body",template:'<div class="popover '+g+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'},i=angular.extend({},h,d);e.popover(i)},this.destroyPopover=function(a){var b=a.find("div._popoverControl");b.popover("destroy")},this.destroyAll=function(){$.each($("div.popover"),function(){$(this).popover("destroy")})}}),angular.module("customValidationApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.c582c4d1.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>')}]);